<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE package SYSTEM "http://pear.php.net/dtd/package-1.0">
<package>
  <name>CodeGen_PECL</name>
  <summary>Tool to generate PECL extensions from an XML description</summary>
  <status>beta</status>

  <maintainers>
    <maintainer>
      <user>hholzgra</user>
      <name>Hartmut Holzgraefe</name>
      <email>hartmut@php.net</email>
      <role>lead</role>
    </maintainer>

    <maintainer>
      <user>rasmus</user>
      <name>Rasmus Lerdorf</name>
      <email>rasmus@php.net</email>
      <role>contributor</role>
    </maintainer>

    <maintainer>
      <user>luckec</user>
      <name>Carsten Lucke</name>
      <email>luckec@php.net</email>
      <role>contributor</role>
    </maintainer>

    <maintainer>
      <user>pajoye</user>
      <name>Pierre-Alain Joye</name>
      <email>pajoye@php.net</email>
      <role>helper</role>
    </maintainer>

    <maintainer>
      <user>hartmann</user>
      <name>Johann Peter Hartmann</name>
      <email>hartmann@php.net</email>
      <role>helper</role>
    </maintainer>

  </maintainers>

  <description>
   CodeGen_PECL (formerly known as PECL_Gen) is a pure PHP replacement 
   for the ext_skel shell script that comes with the PHP 4 source. 

   It reads in configuration options, function prototypes and code fragments
   from an XML description file and generates a complete ready-to-compile
   PECL extension.
  </description>

  <license>PHP</license>

  <release>
    <state>beta</state>
    <version>1.0.0dev</version>
    <date>2005-08-11</date>
    <notes>
- changed names of variables generated for resource parameters,
  backwards compatibility is provided by checking the extension
  tags version attribute, for versions &lt; 1.0.0dev the old naming
  stile is used

- added test generation for class member functions
    </notes>

    <deps>
      <dep type="php" rel="ge" version="5"/> 
      <dep type="pkg" rel="ge" version="1.2">PEAR</dep>
      <dep type="pkg" rel="ge" version="0.9">CodeGen</dep>
    </deps>

    <filelist>
      <dir name="/" baseinstalldir="/">
        <dir name="docs">
          <file role="doc" name="manual.html"/>
          <dir name="examples">
           <file role="doc" name="minimal.xml"/>
           <file role="doc" name="release.xml"/>
           <file role="doc" name="logo.xml"/>
           <file role="doc" name="logo_inline.xml"/>
           <file role="doc" name="api_functions.xml"/>
          </dir>
        </dir>
        <file role="script" name="pecl-gen">
          <replace from="/usr/local/bin" to="PHP_BINDIR" type="php-const" />
          <replace from="@php_dir@"  to="php_dir"  type="pear-config" />
        </file>
      </dir>
      <dir name="/" baseinstalldir="CodeGen">
        <dir name="PECL">
          <file role="php">Extension.php</file>
          <file role="php">Release.php</file>
          <file role="php">Maintainer.php</file>
          <file role="php">Element.php</file>
          <file role="php">Command.php</file>
          <dir name="Element">
            <file role="php">Constant.php</file>
            <file role="php">Function.php</file>
            <file role="php">Global.php</file>
            <file role="php">Ini.php</file>
            <file role="php">Logo.php</file>
            <file role="php">Resource.php</file>
            <file role="php">Test.php</file>
            <file role="php">Class.php</file>
            <file role="php">Interface.php</file>
            <file role="php">Method.php</file>
            <file role="php">Property.php</file>
            <file role="php">ClassConstant.php</file>
            <file role="php">Stream.php</file>
          </dir>
          <dir name="Dependency">
           <file role="php">With.php</file>
           <file role="php">Lib.php</file>
           <file role="php">Header.php</file>
           <file role="php">Extension.php</file>
           <file role="php">Platform.php</file>
          </dir>
          <file role="php">ExtensionParser.php</file>
        </dir>
      </dir>
    </filelist>
  </release>

  <changelog>
    <release>
      <state>beta</state>
      <version>0.9.0</version>
      <date>2005-08-11</date>
      <notes>
Milestone 0.9
-------------

- copy &lt;changelog&gt; to generated package.xml    - done

- rewrite the function prototype parser
  - object type specification (as in resources)      - done
  - default values                                   - done
  - 'void' treatment                                 - done
  - '...' not handled                                - done
  - array() as default value                         - done
  - code generation for 'pass by refecence'          - for zval based types yet
  - '...' code generation                            - if first parameter yet

FREE_RESOURCE macro                                  - done

allow defined PHP constants as default value         - done

&lt;define&gt; tag -&gt; #define + &lt;constant&gt;? - done 

allow for embedded base64 or uu encoded logo specs   - done

changeable function prefix?                          - done

trick parser to verbatim pass on docbook contentent  - done

add configure compile test for &lt;resource&gt;      -done
to check whether a given payload is a valid type?

SYSTEM Entity and XInclude support                   - done 

support for multiple &lt;with&gt; tags with distinct 
names, name defaults to extension name if not given  - done

added version attribute to &lt;extension&gt;
to control parser features (replaces -x switch)      - done

support &lt;?code ... ?&gt; as alternative to CDATA  - done 

check whether &lt;header&gt; checks work             - done

test files are not yet added to package.xml          - done

documentation up to date for all 0.9 features        - done

examples and test cases added                        - done

      </notes>
    </release>

    <release>
      <state>beta</state>
      <version>0.9.0rc5</version>
      <date>2005-08-03</date>
      <notes>
- implemeted new proto parser, activate with --experimental
      </notes>
    </release>

    <release>
      <state>beta</state>
      <version>0.8.5</version>
      <date>2004-11-11</date>
      <notes>
<![CDATA[
- fixed method renaming inconsistencies introduced with 0.8.4
- config.m4 additions can now be placed at 'top' or 'bottom' of config.m4
- '--force' does not remove the target directory anymore
- '#include <php.h>' moved out of #ifdef block to allow static builds
- 'extern "C"' specifications added on C++ builds
- container tags like <functions> or <globals> are now optional
- pecl-gen will now set exit status on errors
]]>
      </notes>

    </release>

    <release>
      <state>beta</state>
      <version>0.8.4</version>
      <date>2004-05-16</date>
      <notes>
This is the first release living in PECL insteat of PEAR.

Technical changes are: 

- improved PECL CS compliance of generated code
- generated config.m4 supports both shared and static build
- code snippets may be read from files instead of beeing 
  embedded in CDATA sections
- improved resource parameter handling
- shortcuts for constants that just mimic C constants
- global 'code' tag finally works as documented
- files can be added using 'file' tag in 'deps'
- ...
      </notes>
    </release>

    <release>
      <state>beta</state>
      <version>0.8.3</version>
      <date>2004-04-01</date>
      <notes>
- this release was completely broken for unknown reasons,
  might be realted to the move from PEAR to PECL ...?
      </notes>
    </release>

    <release>
      <state>beta</state>
      <version>0.8.2</version>
      <date>2003-10-13</date>
      <notes>
- fixed a bug in the parser that rendered 0.8.1 almost useless :(
      </notes>
    </release>

    <release>
      <state>beta</state>
      <version>0.8.1</version>
      <date>2003-10-12</date>
      <notes>
- custom test generation added
- minor DTD changes
- code reformatted for better PEAR coding standards compliance
- additional tools for whitespace and indentation management
      </notes>
    </release>

    <release>
      <state>beta</state>
      <version>0.8.0</version>
      <date>2003-07-13</date>
      <notes>
- added documentation
- check for reserved words 
- check for duplicate names
- config,m4 header files check added
- config.m4 support for makefile fragments
      </notes>
    </release>
        
    <release>
      <state>beta</state>
      <version>0.7.0</version>
      <date>2003-07-03</date>
      <notes>
- a README file is written containing information on
  how to continue after an extension was generated
- --function="proto" writes function stub to stdout
- --stubs=filename now supported in ext_skel BC mode
- added --help and --version options
- added a short feedback howto message 
  (can be disabled using --quiet)  
- --with-xml works again 
  (ext_skel compatibility)
- will now only purge and overwrite existing target directory
  if '--force' is requested on cmd line
- .cvsignore created with platform-specific entries
- PEARifying error reporting finished
      </notes>
    </release>

    <release>
      <state>beta</state>
      <version>0.6.1</version>
      <date>2003-06-29</date>
      <notes>
        typo fix in package.xml dependencies entry for XML_Parser
      </notes>
    </release>

    <release>
      <state>beta</state>
      <version>0.6.0</version>
      <date>2003-06-28</date>
      <notes>
        Moved from php5/scripts to PEAR.
      </notes>
    </release>
  </changelog>

</package>

