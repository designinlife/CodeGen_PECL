Braindump
---------

I have released 0.9stable today :)

It passes all my tests, your milage may vary.
But as it is not even a 1.0 i think i can get away
with calling it 'stable' anyway.

I've pushed back support for multiple <with> tags with
embedded libs and headers to 1.0 for now. I might even
delay it further if it blocks 1.0 for too long as 
extensions based on several different libraries from
multiple packages are not that common anyway.

The main showstoppers left for 1.0 are now config.w32
generation, documentation and testcases. Interfaces
and type hints are candidates for being pushed back
to 1.1 eventually.

Milestone 0.9
-------------

- copy <changelog> to generated package.xml          -> done

- rewrite the function prototype parser
  - object type specification (as in resources)      -> done
  - default values                                   -> done
  - 'void' treatment                                 -> done
  - '...' not handled                                -> done
  - array() as default value                         -> done
  - code generation for 'pass by refecence'          -> for zval based types yet
  - '...' code generation                            -> if first parameter yet

FREE_RESOURCE macro                                  -> done

allow defined PHP constants as default value         -> done

<define> tag -> #define + <constant>?                -> done 

allow for embedded base64 or uu encoded logo specs   -> done

changeable function prefix?                          -> done

trick parser to verbatim pass on docbook contentent  -> done

add configure compile test for <resource>  to check  -> done
whether a given payload is a valid type?

SYSTEM Entity and XInclude support                   -> done 

support for multiple <with> tags with distinct 
names, name defaults to extension name if not given  -> done

added version attribute to <extension>
to control parser features (replaces -x switch)      -> done

support <?code ... ?> as alternative to CDATA        -> done 

check whether <header> checks work                   -> done

test files are not yet added to package.xml          -> done

documentation up to date for all 0.9 features        -> done

Milestone 1.0
-------------

- <lib> and <header> tags *within* <with>...</with>  -> in progress
  => parsing ok now, needs config.m4 output tweaks

- change the resource variable names,            -> done
  check extension version to provide BC

- check #line numbers in generated source with libxml
  -> error messages with meaningfull line numbers need this

- allow "src='path/to/file'" in more cases           
  make sure it generates #line, too


- support new win32 configure files              -> partly done (75%?)

- test suite                                     -> done, but needs more tests/examples

- class implementation and documentation support 
 
  - <class>                                      -> done
  - <class extends="..."                         -> done
  - <class><implements interface="..."           -> done
  - <class><const>                               -> done
  - <class><property ...                         -> done
  - <class><function ...                         -> done
  - __construct needs special handling           -> done
  - <interface>                                  -> missing
  - type hints                                   -> missing

- full support for .phpt test case generation    -> done

  - <skipif>,<ini> in <function>                 -> done

  - <notest/> for functions not needing a test   -> done

- support for new package.xml 2.0 format         -> done, needs testing

- support extension dependencies                 -> done

- better property access macros                  -> done




not necessarily 1.0
-------------------

- fix whitespace in generated code               -> started, work in progress

- multiple logos                                 -> started, needs checking

- add configure test code within DATA section of <lib> and <header> tags?
  e.g. for version checking?

- full support for stream wrappers and filters   -> started

- full support for session handler API

- full support for SAPI 

- "object store" handling for private data       -> missing

- return by reference (for 5.1 if it supports it)          

- VC++ 7 (VS.net) project files
  => not needed anymore as we now have config.w32?

- have different levels of comment (and code?) generation
  similar to --no-help in ext_skel

- protos

  - option for 'old style' parameter parsing code generation ?
    (less readable but faster and more flexible)
    also needed if '...' is not the only parameter
    unless parse_params_ex with ZEND_PARSE_PARAMS_QUIET fills params anyway??

- create seperate target dir for copied spec files

- allow addition of files to directories (eg. test),
  
- allow specification of file role instead of guessing by extension?

- support compiler/linker flags setting using config programs
  like pkg-config, mysql_config etc.


- <lib> shared=no 
  -> drop EXTNAME_SHARED_LIBADD parameter to PHP_ADD_LIBRARY_WITH_PATH
	=> requires further research, doesn't work this way
	==> how to add *static* libraries? 

 
